# 🧩 ویژگی‌های قابل استخراج از رفتار مشتری (بدون وابستگی به چیدمان فروشگاه)

این فایل، ویژگی‌های قابل استخراج از ویدیو و تحلیل رفتار مشتری را صرفاً بر اساس تعامل با اشیاء و رفتار فیزیکی تعریف می‌کند. ویژگی‌ها به موقعیت فیزیکی فروشگاه یا نقشه قفسه‌بندی وابسته نیستند و مناسب محیط‌های متغیر هستند.

---

## 👥 دسته‌بندی اصلی مشتریان

- `buyer`: مشتری خریدار یا در حال تصمیم‌گیری  
- `browser`: بازدیدکننده، تجربه‌گرا، علاقه‌مند به گشت‌وگذار  
- `thief`: دزد یا فرصت‌طلب لحظه‌ای

---

## 🔹 A. ویژگی‌های عمومی (برای همه‌ی مشتریان)

| ویژگی | توضیح |
|--------|--------|
| `pause_duration` | مدت زمان ایستادن مقابل یک قفسه یا کالا |
| `product_touch_count` | تعداد دفعات لمس یا دست‌زدن به کالاها |
| `product_pick_and_drop` | برداشتن کالا و بازگرداندن بدون خرید |
| `path_length` | مسیر حرکت طی‌شده توسط مشتری در تصویر |
| `motion_density_map` | نقاط پر توقف یا تعامل (heatmap دینامیک، نه ناحیه‌ای) |

---

## 🔸 B. مشتری خریدار یا مردد

| ویژگی | نشانه | توضیح |
|--------|--------|--------|
| `multi_pick_same_object_type` | انتخاب بین چند کالای مشابه | تلاش برای تصمیم‌گیری بین گزینه‌ها |
| `product_engagement_duration` | تعامل طولانی با یک کالا خاص | بررسی یا مقایسه پیش از خرید |
| `return_to_object_event` | بازگشت به کالای قبلاً دیده‌شده | تمایل مجدد به بررسی آن کالا |
| `circle_path_behavior` | تکرار چرخش دور یک نقطه | تردید یا نیاز به کمک در انتخاب |
| `help_seeking_indicators` | نگاه‌های متعدد به اطراف، ولی بدون مکالمه | نشانه نیاز به راهنمایی بدون ابراز مستقیم |

---

## 🔸 C. مشتری تجربه‌گرا / بازدیدکننده

| ویژگی | نشانه | توضیح |
|--------|--------|--------|
| `low_path_efficiency` | گردش بدون الگوی مشخص | نشانه گشت‌وگذار |
| `frequent_idle_near_display` | ایستادن بدون تعامل | تماشای دکور، فضا یا کالا بدون قصد خرید |
| `sitting_event` | تشخیص نشستن روی صندلی | استراحت، انتظار برای همراه یا فرزند |
| `prolonged_stationary_reading` | مطالعه بلندمدت کتاب یا دفتر | استفاده از فضا برای تجربه |
| `social_media_behavior` | عکاسی، استفاده زیاد از موبایل | نشانه استفاده بصری از محیط فروشگاه |
| `inactive_companion_detection` | همراهی که حرکتی ندارد | والد یا دوست منتظر در گوشه تصویر |

---

## 🔸 D. مشتری دزد / فرصت‌طلب

| ویژگی | نشانه | توضیح |
|--------|--------|--------|
| `hand_to_pocket_count` | لمس کیف، جیب یا کوله‌پشتی | احتمال پنهان‌سازی کالا |
| `face_touch_count` | لمس مکرر صورت | استرس یا فریبکاری |
| `head_scan_frequency` | چرخش سریع سر به اطراف | بررسی شرایط برای انجام سرقت |
| `exit_after_single_object_interaction` | تعامل کوتاه با یک کالا و خروج سریع | هدف مشخص |
| `avoidance_behavior` | اجتناب از تماس چشمی با نیرو انسانی یا دوربین | رفتار پنهان‌کارانه |
| `engagement_abort_point` | قطع ناگهانی تعامل و خروج | تصمیم لحظه‌ای برای دزدی |

---

## 🔸 E. ویژگی‌های ترکیبی (Behavior Summary)

| ویژگی | خروجی | استفاده |
|--------|--------|--------|
| `shopping_behavior_type` | طبقه‌بندی نهایی: buyer, browser, thief | برچسب مدل |
| `intent_to_buy_score` | احتمال خرید | تصمیم‌گیری در مدل LLM یا توصیه‌گر |
| `risk_of_theft_score` | احتمال دزدی | هشدار سطح بالا |
| `confusion_score` | سردرگمی در خرید | قابل نمایش به فروشنده یا توصیه‌گر کالا |
| `engagement_outcome_delta` | اختلاف بین علاقه و خرید واقعی | تحلیل نرخ تبدیل (conversion) در فروشگاه |

---

## 🧠 نکات اجرایی:

- این ویژگی‌ها باید صرفاً از روی تعامل مشتری با کالاها و بدنش استخراج شوند.
- محل یا مختصات فیزیکی در فروشگاه نیازی نیست (مهم: تعامل در تصویر)
- تشخیص کالا، دست، صورت، بدن از طریق YOLOv8n یا Tiny-YOLO انجام می‌شود.
- تعامل‌ها به‌صورت event (توقف، برداشتن، لمس، بازگشت) ذخیره می‌شوند.
