# 🧩 ویژگی‌های قابل استخراج از رفتار مشتری

در این فایل، مجموعه‌ای از ویژگی‌های قابل استخراج از ویدیو، زبان بدن، حرکت و موقعیت مکانی مشتری تعریف می‌شود. این ویژگی‌ها در تحلیل رفتار خرید، تشخیص دزدی، اصلاح چیدمان فروشگاه و افزایش نرخ فروش استفاده خواهند شد.

---

## 👥 تقسیم‌بندی اصلی مشتریان

تمام ویژگی‌ها در این فایل با توجه به سه تیپ اصلی مشتری تحلیل و استفاده می‌شوند:

1. **مشتری خریدار یا مردد**: با هدف خرید وارد فروشگاه شده‌اند یا به‌دنبال انتخاب دقیق هستند  
2. **بازدیدکننده یا تجربه‌گرا**: هدف اصلی آن‌ها گردش، مطالعه یا لذت بردن از محیط فروشگاه است  
3. **دزد یا فرصت‌طلب لحظه‌ای**: با نیت سرقت وارد شده‌اند یا در حین تجربه، تصمیم به دزدی گرفته‌اند

---

## 🔹 A. ویژگی‌های عمومی (برای هر سه گروه ثبت می‌شود)

| ویژگی | توضیح |
|--------|--------|
| `pause_duration` | زمان ایستادن مقابل یک ناحیه خاص |
| `zone_time_distribution` | زمان صرف‌شده در هر قفسه |
| `path_length` | مسیر طی‌شده در فروشگاه |
| `product_touch_count` | لمس کالا بدون خرید |
| `product_pick_and_drop` | برداشتن و پس‌گذاشتن کالا |

---

## 🔸 B. ویژگی‌های مشتریان خریدار یا مردد

| ویژگی | نشانه | توضیح |
|--------|--------|--------|
| `multi_pick_same_zone` | انتخاب بین گزینه‌ها | نشانه علاقه به خرید |
| `product_engagement_duration` | توقف طولانی روی یک کالا | بررسی دقیق برای خرید |
| `help_needed_but_not_requested` | نیاز به راهنمایی پنهان | گم‌گشتگی یا خجالت مشتری |
| `circle_path_pattern` | گیج بودن در مسیر | سردرگمی در انتخاب یا چیدمان ناکارآمد |
| `confusion_index` | چند رفتار مردد با هم | نیاز به توضیح یا تجربه فروش ضعیف |
| `intent_to_buy_estimate` | تخمین نیت خرید | ترکیب چند رفتار برای تشخیص قصد واقعی |

---

## 🔸 C. ویژگی‌های بازدیدکننده / تجربه‌گرا

| ویژگی | نشانه | توضیح |
|--------|--------|--------|
| `path_efficiency` پایین | گردش بدون هدف | تجربه خرید نه هدف خرید |
| `zone_bounce_rate` بالا | عبور زیاد بدون توقف | نشانه بی‌هدفی یا گشت‌وگذار |
| `zone_sensitivity_zero` | توقف در ناحیه کم‌فروش | تعامل بدون قصد خرید |
| `social_shopper_behavior` | خرید دسته‌جمعی یا با همراه | تفریح گروهی با هدف تجربه |
| `touch_without_focus` | لمس تصادفی اجناس | تعامل بدون تحلیل |
| `positive_idle_time` | ایستادن در نقطه خاص بدون دلیل منطقی | تماشای چیدمان یا دکور، نه محصول |
| `prolonged_stationary_reading` | نشستن یا ایستادن طولانی مقابل قفسه کتاب | مطالعه در محل بدون نیت خرید |
| `sitting_in_chill_zone` | نشستن در صندلی‌ها یا نیمکت‌ها | استراحت یا انتظار برای همراهان |
| `social_media_staging_behavior` | ایستادن طولانی مقابل لوکیشن خاص + حرکت موبایل | عکاسی یا استفاده از فضا برای محتوای شبکه‌های اجتماعی |
| `inactive_companion_behavior` | همراه نشسته یا ایستاده بی‌حرکت | والدین یا دوستانی که خرید نمی‌کنند و فقط منتظرند |

💡 **مزیت این دسته‌بندی:**
- از رفتارهای غیرفعال اما سالم برداشت اشتباه نمی‌شود (مثل نشستن یا مطالعه).
- مدل می‌فهمد چه کسانی «مصرف‌کننده فضا» هستند، حتی اگر خریدار نباشند.
- می‌توان از این داده‌ها برای بهبود طراحی فضا، چیدمان و جلب توجه بهتر کالاها استفاده کرد.

---

## 🔸 D. ویژگی‌های دزد یا فرصت‌طلب

| ویژگی | نشانه | توضیح |
|--------|--------|--------|
| `hand_to_pocket_count` بالا | احتمال پنهان‌سازی |
| `head_scan_frequency` بالا | بررسی اطراف برای نبودن نیرو |
| `fidgeting_score` بالا | اضطراب در رفتار فیزیکی |
| `exit_after_single_zone` | ورود به ناحیه خاص و خروج سریع | هدف مشخص از ورود |
| `face_touch_count` بالا | استرس و پوشاندن چهره |
| `eye_contact_attempts` + `avoidance` | نگاه به نیرو بدون مکالمه و فرار | عدم اطمینان یا پنهان‌کاری |
| `zone_type = high-theft` + رفتار سریع | تمرکز روی نواحی حساس | نیت قبلی یا لحظه‌ای |
| `engagement_dropout_point` = قبل از خرید | توقف ناگهانی و خروج | انصراف به نفع دزدی |

---

## 🔹 E. ویژگی‌های ترکیبی (برای مدل طبقه‌بندی و بهینه‌سازی فروش)

| ویژگی | خروجی | استفاده |
|--------|--------|--------|
| `shopping_behavior_type` | یکی از سه دسته (buyer, browser, thief) | خروجی نهایی مدل طبقه‌بندی |
| `sales_friction_score` | چرا خرید انجام نشده؟ | تحلیل چیدمان، قیمت یا تجربه خرید ضعیف |
| `customer_silence_alert` | نیاز به کمک بدون پرسش | پیشنهاد تعامل از سمت نیرو انسانی |
| `layout_failure_score` | کالاهایی که دیده نمی‌شن یا زون‌هایی که کسی خرید نمی‌کنه | بهینه‌سازی فروشگاه |
| `engagement_outcome_delta` | تفاوت بین علاقه و خرید واقعی | ارزیابی تجربه مشتری در فروشگاه |

---

## 🧠 نکات فنی:

- ویژگی‌ها به صورت فریم‌به‌فریم یا session-based ذخیره می‌شوند (JSON / CSV)
- ویژگی‌های مربوط به موقعیت باید با layout فروشگاه (`layout_map.json`) نگاشت شوند
- بسیاری از این ویژگی‌ها در سیستم یادگیری تدریجی (feedback) و ماژول LLM برای توضیح رفتار مشتری استفاده خواهند شد
