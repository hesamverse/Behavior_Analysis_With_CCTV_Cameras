# ๐งฉ ูุนูุงุฑ ุณุณุชู ุชุญูู ุฑูุชุงุฑ ูุดุชุฑ ุจุง ุฏูุฑุจู ูุฏุงุฑุจุณุชู

ุงู ุณูุฏ ูุนูุงุฑ ูุงฺููุงุฑ ุณุณุชู ุฑุง ุจุฑุง ุชุญูู ุณูโูุงูโุง ุฑูุชุงุฑ ูุดุชุฑุงู (ุฎุฑุฏุงุฑุ ุจุงุฒุฏุฏฺฉููุฏูุ ูุฑุตุชโุทูุจ/ุฏุฒุฏ) ุชุนุฑู ูโฺฉูุฏ. ูุนูุงุฑ ุจูโฺฏูููโุง ุทุฑุงุญ ุดุฏู ุงุณุช ฺฉู ุณุณุชู ุจู ุตูุฑุช ูุฑุญููโุง ุชูุณุนู ุงุจุฏุ ูุงุจู ุงุฏฺฏุฑ ู ุงุฑุชูุงุก ุจุงุดุฏุ ู ุจุง ุญุฏุงูู ููุงุจุน ูุงุจู ุงุฌุฑุง ุจุงู ุจูุงูุฏ.

---

## ๐ ุณุงุฎุชุงุฑ ฺฉู ุณุณุชู

```text
[Input: CCTV Video]
        โ
[1. Frame Extractor]
        โ
[2. Feature Extractor]
        โ
[3. Behavior Classification Modules]
        โโโ Enneagram Estimator
        โโโ MBTI Estimator
        โโโ Body Language Interpreter
        โโโ Spatial Mapper (Store Layout)
        โ
[4. Behavior Fusion Engine]
        โ
[5. Customer Type Classifier]
        โโโ Output: buyer | browser | thief
        โ
[6. LLM Explainer (optional)]
        โ
[7. Feedback & Reward Engine]

=======================================================================================================================================================
๐งฑ ุงุฌุฒุง ุงุตู ุณุณุชู
1. ๐ฅ Frame Extractor
ูุงฺูู ุงุจุชุฏุง

ูุธูู: ุงุณุชุฎุฑุงุฌ ูุฑู ุงุฒ ูุฏู ุจุง ูุฑุฎ ูุดุฎุต (1fps ุชุง 5fps)

ุฎุฑูุฌ: ูุฌููุนู ูุฑูโูุง ุฒูุงู

2. ๐ง Feature Extractor
ุงุณุชุฎุฑุงุฌ ูฺฺฏโูุง ุญุฑฺฉุชุ ุชุนุงููุ ูููุนุช ู ุฒุจุงู ุจุฏู

ุฎุฑูุฌ: ูุงู JSON ุง CSV ุดุงูู ูฺฺฏโูุง ุณุทุญ ูุดุชุฑ

ูุฑูุฏ: ูุฑูโูุง
ุฎุฑูุฌ: features/session_001.json

3. ๐ Behavior Classifier Modules
a) Enneagram Estimator
ุชุญูู น ุชูพ ุดุฎุตุช ุจุฑ ุงุณุงุณ ุฑูุชุงุฑ (rule-based ุง ML)

b) MBTI Estimator
ุชุญูู ด ุจุนุฏ ุดุฎุตุช (E/I, S/N, T/F, J/P)

c) Body Language Interpreter
ุชุดุฎุต ุฑูุชุงุฑูุง ุงุถุทุฑุงุจุ ุฏูุฏูุ ูพููุงูโฺฉุงุฑ

d) Spatial Mapper (Store Layout)
ูฺฏุงุดุช ูููุนุช ูุดุชุฑ ุจุง ููุดู ูุฑูุดฺฏุงู (layout_map.json)

4. ๐ Fusion Engine
ุชุฑฺฉุจ ุฎุฑูุฌ ูุงฺููโูุง (ุดุฎุตุช + ุฒุจุงู ุจุฏู + ูููุนุช)

ูุฒูโุฏู ูพูุง ุจุฑ ุงุณุงุณ context

ูุญุงุณุจู suspicion_score, confusion_score, intent_to_buy_estimate ู ุณุงุฑ ุดุงุฎุตโูุง ููุง

5. ๐งญ Customer Type Classifier
ุฏุณุชูโุจูุฏ ููุง ุฑูุชุงุฑ ุจู ฺฉ ุงุฒ ุณู ฺฉูุงุณ:

buyer: ุฑูุชุงุฑ ุฎุฑุฏ ูุงูุน ุง ูุฑุฏุฏ

browser: ุจุงุฒุฏุฏ ู ุชุฌุฑุจูโฺฏุฑุง

thief: ุฑูุชุงุฑ ูุดฺฉูฺฉ ุง ูพููุงูโฺฉุงุฑ

6. ๐ฃ๏ธ LLM Explainer (ุงุฎุชุงุฑ)
ุชููุฏ ุชูุถุญ ูุชู ุงูุณุงู ุงุฒ ุฎุฑูุฌ ูุฏู

ุงุณุชูุงุฏู ุงุฒ prompt + ุฎุฑูุฌ ูฺฺฏโูุง ุจุฑุง ูพุงุณุฎโุฏู

ูุฏูโูุง ูพุดููุงุฏ: Mistral, ChatGPT, Phiุ Gemma

7. ๐งช Feedback & Reward Engine
ููุงุณู ุฎุฑูุฌ ุณุณุชู ุจุง ุฏุงุฏู ูุงูุน (ground truth)

ุซุจุช ู ุงุตูุงุญ ุนููฺฉุฑุฏ ูุงฺููโูุง

ุงุฏฺฏุฑ ุชุฏุฑุฌ ุจุง ุชุบุฑ ูุฒู ุง ููุทู ุชุตููโฺฏุฑ

๐งฎ ุฐุฎุฑูโุณุงุฒ ุฏุงุฏู

| ููุน ูุงู     | ูุณุฑ                                  | ุชูุถุญ               |
| ------------ | ------------------------------------- | ------------------- |
| ูุฏู ุฎุงู    | `data/raw_videos/`                    | ูุฑูุฏ ุงุตู          |
| ูุฑูโูุง      | `data/extracted_frames/`              | ูพุฑุฏุงุฒุด ุงููู        |
| ูฺฺฏโูุง     | `data/features/*.json`                | ุงุณุชุฎุฑุงุฌโุดุฏู ุงุฒ ูุฑู |
| ุจุฑฺุณุจโูุง     | `data/labels/*.csv`                   | ุฏุงุฏู ูุฑุฌุน           |
| ูพุงุฏุงุดโูุง     | `data/feedback/*.json`                | ุจุงุฒุฎูุฑุฏ ุงุฏฺฏุฑ     |
| ููุดู ูุฑูุดฺฏุงู | `data/store_layout/layout_map.json`   | ูุฎุชุตุงุช ู ฺุฏูุงู     |
| ูุฒู ูุงุญูโูุง | `data/store_layout/zone_weights.json` | ุณุทุญ ุญุณุงุณุช ูุฑ ูุงุญู |

๐งฉ ุงุชุตุงู ูุงฺููโูุง ุจูโุตูุฑุช ูุงฺููุงุฑ
ูุฑ ุจุฎุด ูุณุชููุ ูุงุจู ุชุณุชุ ุงุฑุชูุงุก ู ุฌุงฺฏุฒู ุงุณุช

ูุฏูโูุง ูโุชูุงููุฏ rule-basedุ ML ุง hybrid ุจุงุดูุฏ

ูุงฺููโูุง ุขูุฏู ูุซู ุณุณุชู ูุฑูุดุ ูพุดููุงุฏ ฺฉุงูุงุ ุชุจูุบุงุชุ ุชุญูู ุชุฌุฑุจู ูุดุชุฑ ูุงุจู ุงูุญุงู ูุณุชูุฏ

๐ ูุชุฌู:
ูุนูุงุฑ ุทุฑุงุญโุดุฏู:

ูุงุจู ูพุงุฏูโุณุงุฒ ุจุง ููุงุจุน ูุญุฏูุฏ (ุจุฏูู GPU)

ูุงุจู ุงุฑุชูุงุก ุจู LLM ู ุณุณุชู ุงุฏฺฏุฑ ุจุง ูพุงุฏุงุด

ูุณุชูู ุงุฒ ููุน ูุฑูุดฺฏุงู (ุจุง ุชุบุฑ ูุงู ููุดู)

ูุงุจู ุชุญููุ ุจูููโุณุงุฒ ู ฺฏุฒุงุฑุดโฺฏุฑ

---

ุจุง ุงู ูุงูุ ูุนูุงุฑ ฺฉุงููุงู ุดูุงูุ ูุณุชูุฏ ู ุชูุณุนูโูพุฐุฑ ูโุดู.  
ุงฺฏุฑ ุชุฃุฏุด ูโฺฉูุ ุจฺฏู ุชุง ุจุฑู ุณุฑุงุบ `layout_mapping.md` ู ุทุฑุงุญ ุณุงุฎุชุงุฑ `layout_map.json`.
